<main class="w-full py-6">
  <h1 class="text-2xl text-blue-900 mb-1">
    {{ isEdit ? 'Editar servicio' : 'Nuevo servicio' }}
  </h1>
  <p class="text-slate-600 mb-4">Completa la información del servicio.</p>

  <div class="rounded-2xl border border-slate-200 shadow">
    <div class="p-6">
      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-6">
        <!-- Campos principales -->
        <div class="grid gap-4 md:grid-cols-2">
          <div class="flex flex-col gap-1">
            <label for="nombre" class="text-sm font-semibold">Nombre</label>
            <input id="nombre" formControlName="nombre"
                   class="rounded-xl border border-slate-200 px-3 py-2" required />
          </div>

          <div class="flex flex-col gap-1">
            <label for="lugar" class="text-sm font-semibold">Lugar</label>
            <input id="lugar" formControlName="lugar"
                   class="rounded-xl border border-slate-200 px-3 py-2" required />
          </div>
        </div>

        <!-- Descripción -->
        <div class="flex flex-col gap-1">
          <label for="descripcion" class="text-sm font-semibold">Descripción</label>
          <textarea id="descripcion" formControlName="descripcion"
                    class="rounded-xl border border-slate-200 px-3 py-2 min-h-[100px] resize-y"></textarea>
        </div>

        <!-- Precio / duración / capacidad -->
        <div class="grid gap-4 md:grid-cols-3">
          <div class="flex flex-col gap-1">
            <label for="precioPorPersona" class="text-sm font-semibold">Precio por persona (COP)</label>
            <input id="precioPorPersona" type="number" formControlName="precioPorPersona"
                   class="rounded-xl border border-slate-200 px-3 py-2" required />
          </div>

          <div class="flex flex-col gap-1">
            <label for="duracionMinutos" class="text-sm font-semibold">Duración (minutos)</label>
            <input id="duracionMinutos" type="number" formControlName="duracionMinutos"
                   class="rounded-xl border border-slate-200 px-3 py-2" required />
          </div>

          <div class="flex flex-col gap-1">
            <label for="capacidadMaxima" class="text-sm font-semibold">Capacidad máxima</label>
            <input id="capacidadMaxima" type="number" formControlName="capacidadMaxima"
                   class="rounded-xl border border-slate-200 px-3 py-2" />
          </div>
        </div>

        <!-- ✅ Imagen -->
        <div class="flex flex-col gap-1">
          <label for="imagenUrl" class="text-sm font-semibold">URL de imagen</label>
          <input id="imagenUrl" type="url" formControlName="imagenUrl"
                 placeholder="https://aponia.com/img/spa.jpg"
                 class="rounded-xl border border-slate-200 px-3 py-2" />

          <div class="text-xs text-slate-500">
            Esta imagen se mostrará como portada del servicio.
          </div>

          @if (form.get('imagenUrl')?.value) {
            <div class="mt-3">
              <img [src]="form.get('imagenUrl')?.value"
                   alt="Vista previa"
                   class="w-40 h-32 rounded-xl object-cover border border-slate-300"
                   onerror="this.src='assets/img/no-image.png'" />
            </div>
          }
        </div>

        <!-- Botones -->
        <div class="flex justify-end gap-3 pt-4 border-t border-slate-200">
          <a [routerLink]="['/dashboard-admin/servicios']"
             class="inline-flex items-center rounded-xl border border-slate-200 px-4 py-2 text-sm">
            Cancelar
          </a>
          <button type="submit" [disabled]="saving"
                  class="inline-flex items-center rounded-xl bg-amber-600 text-white font-semibold px-4 py-2 shadow hover:bg-amber-700 transition disabled:opacity-60">
            {{ isEdit ? 'Guardar cambios' : 'Crear servicio' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</main>
