<main class="max-w-5xl mx-auto px-6">
  <!-- Page head -->
  <div class="pt-7 pb-2">
    <h1 class="text-3xl text-[#0a3d62] font-semibold mb-1">
      {{ isEdit ? 'Editar servicio' : 'Nuevo servicio' }}
    </h1>
    <p class="text-gray-600">Completa los detalles del servicio.</p>
  </div>

  <!-- Loading state -->
  <div
    *ngIf="loading"
    class="bg-white border border-[#e8edf1] rounded-2xl shadow-md p-8 text-center"
  >
    <p class="text-slate-600">Cargando servicio...</p>
  </div>

  <!-- Card -->
  <div *ngIf="!loading" class="bg-white border border-[#e8edf1] rounded-2xl shadow-md">
    <div class="p-5">
      <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
        <!-- Nombre -->
        <div class="flex flex-col gap-1 mb-4">
          <label for="nombre" class="text-sm font-semibold">Nombre</label>
          <input
            id="nombre"
            type="text"
            maxlength="100"
            placeholder="Ej. Masaje relajante"
            formControlName="nombre"
            class="w-full px-3 py-2 border border-[#e8edf1] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#cfa15a]"
            [class.border-red-400]="form.get('nombre')?.invalid && form.get('nombre')?.touched"
          />
          <div
            *ngIf="form.get('nombre')?.invalid && form.get('nombre')?.touched"
            class="text-red-700 text-xs"
          >
            <span *ngIf="form.get('nombre')?.errors?.['required']">Nombre requerido</span>
            <span *ngIf="form.get('nombre')?.errors?.['maxlength']">Máximo 100 caracteres</span>
          </div>
        </div>

        <!-- Descripción -->
        <div class="flex flex-col gap-1 mb-4">
          <label for="descripcion" class="text-sm font-semibold">Descripción</label>
          <textarea
            id="descripcion"
            formControlName="descripcion"
            placeholder="Describe el servicio, beneficios, etc."
            class="w-full min-h-[120px] resize-y px-3 py-2 border border-[#e8edf1] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#cfa15a]"
          ></textarea>
        </div>

        <!-- Precio -->
        <div class="flex flex-col gap-1 mb-4">
          <label for="precio" class="text-sm font-semibold"> Precio por persona (COP) </label>
          <input
            id="precio"
            type="number"
            min="0"
            step="0.01"
            placeholder="0.00"
            formControlName="precio"
            class="w-full px-3 py-2 border border-[#e8edf1] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#cfa15a]"
            [class.border-red-400]="form.get('precio')?.invalid && form.get('precio')?.touched"
          />
          <div class="text-xs text-slate-500">Ingresa el valor en pesos colombianos.</div>
          <div
            *ngIf="form.get('precio')?.invalid && form.get('precio')?.touched"
            class="text-red-700 text-xs"
          >
            <span *ngIf="form.get('precio')?.errors?.['required']">Precio requerido</span>
            <span *ngIf="form.get('precio')?.errors?.['min']"
              >El precio debe ser mayor o igual a 0</span
            >
          </div>
        </div>

        <!-- Activo -->
        <div class="flex items-center gap-2 mb-6">
          <input
            id="activo"
            type="checkbox"
            formControlName="activo"
            class="h-4 w-4 accent-[#cfa15a]"
          />
          <label for="activo" class="text-sm font-semibold">Servicio activo</label>
        </div>

        <!-- Botones -->
        <div class="flex justify-end gap-3 mt-6 pt-4 border-t border-[#e8edf1]">
          <a
            routerLink="/servicios"
            class="inline-flex items-center px-4 py-2 border border-[#e8edf1] rounded-xl font-semibold hover:bg-gray-50"
          >
            Cancelar
          </a>
          <button
            type="submit"
            [disabled]="saving || form.invalid"
            class="inline-flex items-center px-4 py-2 rounded-xl font-semibold text-white bg-[#cfa15a] hover:bg-[#b88e4e] disabled:opacity-50 disabled:cursor-not-allowed shadow"
          >
            <span *ngIf="saving">Guardando...</span>
            <span *ngIf="!saving">{{ isEdit ? 'Guardar cambios' : 'Crear servicio' }}</span>
          </button>
        </div>
      </form>
    </div>
  </div>

  <div class="h-6"></div>
</main>
