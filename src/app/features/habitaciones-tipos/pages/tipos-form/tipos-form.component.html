<main class="w-full py-6">
  <h1 class="text-2xl text-blue-900 mb-1">
    {{ isEdit ? 'Editar tipo de habitación' : 'Nuevo tipo de habitación' }}
  </h1>
  <p class="text-slate-600 mb-4">
    Completa la información y guarda los cambios.
  </p>

  <div class="rounded-2xl border border-slate-200 shadow">
    <div class="p-6">
      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-6">
        <!-- Nombre y Aforo -->
        <div class="grid gap-4 md:grid-cols-2">
          <div class="flex flex-col gap-1">
            <label for="nombre" class="text-sm font-semibold">Nombre</label>
            <input
              id="nombre"
              formControlName="nombre"
              placeholder="Ej: Superior, Deluxe"
              required
              class="rounded-xl border border-slate-200 px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none"
            />
          </div>

          <div class="flex flex-col gap-1">
            <label for="aforo" class="text-sm font-semibold">Aforo máximo</label>
            <input
              id="aforo"
              type="number"
              min="1"
              step="1"
              formControlName="aforoMaximo"
              required
              class="rounded-xl border border-slate-200 px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none"
            />
          </div>
        </div>

        <!-- Descripción -->
        <div class="flex flex-col gap-1">
          <label for="descripcion" class="text-sm font-semibold">Descripción</label>
          <textarea
            id="descripcion"
            formControlName="descripcion"
            placeholder="Resumen de comodidades y características"
            class="rounded-xl border border-slate-200 px-3 py-2 min-h-[110px] resize-y focus:ring-2 focus:ring-blue-500 outline-none"
          ></textarea>
        </div>

        <!-- Precio -->
        <div class="grid gap-4 md:grid-cols-2">
          <div class="flex flex-col gap-1">
            <label for="precio" class="text-sm font-semibold">Precio por noche (COP)</label>
            <input
              id="precio"
              type="number"
              step="0.01"
              min="0"
              formControlName="precioPorNoche"
              required
              class="rounded-xl border border-slate-200 px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none"
            />
            <div class="text-xs text-slate-500">
              Se formatea en listado. Usa punto para decimales.
            </div>
          </div>
        </div>

        <!-- Imagen URL -->
        <div class="flex flex-col gap-1">
          <label for="imagenUrl" class="text-sm font-semibold">URL de imagen</label>
          <input
            id="imagenUrl"
            type="url"
            formControlName="imagenUrl"
            placeholder="https://aponia.com/img/habitacion.jpg"
            class="rounded-xl border border-slate-200 px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none"
          />
          <div class="text-xs text-slate-500">
            Esta imagen se mostrará como portada del tipo de habitación.
          </div>

          <!-- Vista previa -->
          @if (form.get('imagenUrl')?.value) {
            <div class="mt-3">
              <img
                [src]="form.get('imagenUrl')?.value"
                alt="Vista previa"
                class="w-40 h-32 rounded-xl object-cover border border-slate-300"
                onerror="this.src='img/logo_aponia.png'"
              />
            </div>
          }
        </div>

        <!-- Activa -->
        <div class="flex items-center gap-2">
          <input
            id="activa"
            type="checkbox"
            formControlName="activa"
            class="h-4 w-4 border-slate-300 rounded text-blue-600 focus:ring-blue-500"
          />
          <label for="activa" class="text-sm font-medium">Activa</label>
        </div>

        <!-- Botones -->
        <div class="flex justify-end gap-3 pt-4 border-t border-slate-200">
          <a
            [routerLink]="['/dashboard-admin/habitaciones-tipos']"
            class="inline-flex items-center rounded-xl border border-slate-200 px-4 py-2 text-sm hover:bg-slate-100 transition"
          >
            Cancelar
          </a>

          <button
            type="submit"
            [disabled]="saving"
            class="inline-flex items-center rounded-xl bg-amber-600 text-white font-semibold px-4 py-2 shadow hover:bg-amber-700 transition disabled:opacity-60"
          >
            {{ isEdit ? 'Guardar cambios' : 'Crear tipo' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</main>
