<main class="max-w-5xl mx-auto px-6 py-6">
  <div class="w-full flex items-center justify-between">
    <div>
      <h1 class="text-2xl text-blue-900 mb-1">Habitaciones</h1>
      <p class="text-slate-600 mb-4">Administra el número, tipo y estado.</p>
    </div>

    <a
      routerLink="/habitaciones/nueva"
      class="inline-flex items-center gap-2 rounded-xl bg-amber-600 text-white font-semibold shadow px-4 py-2 hover:bg-amber-700"
    >
      ＋ Nueva habitación
    </a>
  </div>

  <!-- Loading state -->
  <div
    *ngIf="loading"
    class="mb-3 rounded-lg border border-blue-200 bg-blue-50 text-blue-700 px-4 py-2"
  >
    Cargando habitaciones...
  </div>

  <!-- Mensajes -->
  <div
    *ngIf="okMessage"
    class="mb-3 rounded-lg border border-emerald-200 bg-emerald-50 text-emerald-700 px-4 py-2"
  >
    {{ okMessage }}
  </div>

  <div
    *ngIf="errorMessage"
    class="mb-3 rounded-lg border border-rose-200 bg-rose-50 text-rose-700 px-4 py-2"
  >
    {{ errorMessage }}
  </div>

  <!-- Tabla -->
  <div class="rounded-2xl border border-slate-200 shadow">
    <div class="overflow-auto">
      <table class="w-full min-w-[720px] border-collapse">
        <thead>
          <tr class="bg-slate-100 text-slate-900 text-xs uppercase tracking-wide">
            <th class="text-left px-4 py-3 border-b border-slate-200">Número</th>
            <th class="text-left px-4 py-3 border-b border-slate-200">Tipo</th>
            <th class="text-left px-4 py-3 border-b border-slate-200">Estado</th>
            <th class="text-left px-4 py-3 border-b border-slate-200 text-slate-500">ID</th>
            <th class="text-left px-4 py-3 border-b border-slate-200">Acciones</th>
          </tr>
        </thead>

        <tbody>
          <!-- Listado -->
          <tr *ngFor="let h of habitaciones" class="hover:bg-slate-50">
            <td class="px-4 py-3">{{ h.numero }}</td>
            <td class="px-4 py-3">
              <span
                class="inline-block rounded-full border border-slate-200 bg-slate-50 text-xs px-3 py-1"
              >
                {{ h.tipo?.nombre || '—' }}
              </span>
            </td>
            <td class="px-4 py-3">
              <span
                [class]="
                  h.activa
                    ? 'inline-block rounded-full border border-emerald-200 bg-emerald-50 text-emerald-700 text-xs px-3 py-1'
                    : 'inline-block rounded-full border border-rose-200 bg-rose-50 text-rose-700 text-xs px-3 py-1'
                "
              >
                {{ h.activa ? 'Activa' : 'Inactiva' }}
              </span>
            </td>
            <td class="px-4 py-3 text-xs text-slate-500">{{ h.id }}</td>
            <td class="px-4 py-3">
              <div class="flex gap-2">
                <button
                  (click)="editar(h)"
                  class="inline-flex items-center rounded-lg border border-blue-900 text-blue-900 text-sm px-3 py-1 hover:bg-blue-50"
                >
                  Editar
                </button>
                <button
                  (click)="eliminar(h.id)"
                  class="inline-flex items-center rounded-lg bg-red-600 text-white text-sm px-3 py-1 hover:bg-red-700"
                >
                  Eliminar
                </button>
              </div>
            </td>
          </tr>

          <!-- Si no hay habitaciones -->
          <tr *ngIf="habitaciones.length === 0 && !loading">
            <td colspan="5" class="px-4 py-8 text-center text-slate-500">
              No hay habitaciones registradas.
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</main>
